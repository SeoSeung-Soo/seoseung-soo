{% extends "base.html" %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/users/signup.css' %}">
{% endblock %}

{% block content %}
<div class="signup-container">
  <div class="signup-card">
    <form method="post" class="signup-form">
      {% csrf_token %}
      
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}

      <!-- 동의 항목 섹션 (회원가입 템플릿에서 가져옴) -->
      <div class="consent-section consent-page">
        <h1 class="consent-title">이용약관 및 개인정보 처리 동의</h1>
        <p class="consent-subtitle">서비스 이용을 위해 다음 약관에 동의해주세요.</p>
        
        <!-- 전체 동의 -->
        <div class="all-consent">
          <label class="all-consent-checkbox">
            <input type="checkbox" id="all_consent" name="all_consent">
            <span class="checkmark"></span>
            <span class="all-consent-text">모든 이용약관에 동의합니다.</span>
          </label>
        </div>
        
        <div class="consent-group required">
          <div class="consent-item">
            <label class="consent-checkbox">
              <input type="checkbox" id="terms_consent" name="terms_of_use" required>
              <span class="checkmark"></span>
              <span class="consent-text">이용약관 동의 (필수)</span>
            </label>
            <div class="consent-content">
              <div class="consent-text-content">
                <!-- 회원가입 템플릿의 이용약관 내용을 그대로 사용 -->
                <p><strong>제1조(목적)</strong></p>
                <p>이 약관은 SeoSeung-Soo 회사(전자상거래 사업자)가 운영하는 SeoSeung-Soo 사이버 몰(이하 "몰"이라 한다)에서 제공하는 인터넷 관련 서비스(이하 "서비스"라 한다)를 이용함에 있어 사이버 몰과 이용자의 권리․의무 및 책임사항을 규정함을 목적으로 합니다.</p>
                <!-- 약관 내용은 생략하고 핵심 부분만 표시 -->
              </div>
            </div>
          </div>

          <div class="consent-item">
            <label class="consent-checkbox">
              <input type="checkbox" id="privacy_consent" name="personal_info_consent" required>
              <span class="checkmark"></span>
              <span class="consent-text">개인정보 수집 및 이용 동의 (필수)</span>
            </label>
            <div class="consent-content">
              <div class="consent-text-content">
                <p><strong>1. 개인정보의 수집 및 이용 목적</strong></p>
                <p>가. 서비스 제공에 관한 계약 이행 및 서비스 제공에 따른 요금정산</p>
                <p>나. 회원 관리</p>
                <p>다. 마케팅 및 광고에 활용</p>
                
                <p><strong>2. 수집하는 개인정보의 항목</strong></p>
                <p>가. 필수항목: 사용자 이름, 이메일, 비밀번호, 휴대폰번호</p>
                <p>나. 선택항목: 성별, 생년월일, 주소</p>
                <p>다. 자동 수집 항목: IP주소, 쿠키, MAC주소, 서비스 이용 기록, 방문 기록, 불량 이용 기록</p>
              </div>
            </div>
          </div>
        </div>

        <!-- 선택 동의 항목 -->
        <div class="consent-group optional">
          <div class="consent-item">
            <label class="consent-checkbox">
              <input type="checkbox" id="marketing_consent" name="marketing_consent">
              <span class="checkmark"></span>
              <span class="consent-text">쇼핑정보 수신 동의 (선택)</span>
            </label>
            <div class="sub-consent-row">
              <div class="sub-consent">
                <label class="consent-checkbox">
                  <input type="checkbox" id="sns_consent" name="sns_consent_to_receive">
                  <span class="checkmark"></span>
                  <span class="consent-text">SMS 수신 동의 (선택)</span>
                </label>
              </div>
              <div class="sub-consent">
                <label class="consent-checkbox">
                  <input type="checkbox" id="email_consent" name="email_consent_to_receive">
                  <span class="checkmark"></span>
                  <span class="consent-text">이메일 수신 동의 (선택)</span>
                </label>
              </div>
            </div>
            <div class="consent-description">
              <p>할인쿠폰 및 혜택, 이벤트, 신상품 소식 등 쇼핑몰에서 제공하는 유익한 쇼핑정보를 SMS나 이메일로 받아보실 수 있습니다.</p>
              <p>단, 주문/거래 정보 및 주요 정책과 관련된 내용은 수신동의 여부와 관계없이 발송됩니다.</p>
              <p>선택 약관에 동의하지 않으셔도 회원가입은 가능하며, 회원가입 후 회원정보수정 페이지에서 언제든지 수신여부를 변경하실 수 있습니다.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="consent-btn">
          동의하고 계속하기
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/users/consent.js' %}" defer></script>
{% endblock %}
